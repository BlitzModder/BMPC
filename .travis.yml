language: node_js
node_js:
  - "6.2.1"
os: osx
cache:
  directories:
  - node_modules
  - "$HOME/.nvm"
branches:
  only:
  - master
  - /^v?[0-9\\.]+/
install:
  - npm install
script:
  - npm run pack:mac
deploy:
  provider: releases
  api_key:
    secure: fh6CEhLfoA67VP8f3u2Gj0YhUe35vqYgtMQ+/MAxpHgXvq5fXhQe52LmT+Yri91PPfqZQdNeW9W1eYfrpliC3aOgaBwq0Dzlpmh/TRBbJiHuFE24nvL1eOtrlNs43yInFryofMnCh1iZlT6HZwwFGWTX0jV8/C+9SUjPg2Jdio+e0RTplWTuPR+2pqDi4aGVoQP6G0YSLNEzI56tPGPGIA8t2VLulflZxfNW5DDioxrS6T2jJFivMpPtKWqBxJRJ+1zL9LW5XdfZLn1gFtfcmBHodfwfkUKSUM0/OGtfO5fssVJl+ftOdyvpryh/pfWEp00IjRTtHtGtaOZjOQ9PSq9SIhES62a+v6F7AIN8dcEKYc3V8xoMXskJjOi/wCCRXu6ZCGexnb9x5ZyXJOUhirpv76cswdQF8MYV/kl27q1hwjVziEDTdkw/m+Rh6CxdcA0eD4CNG+GYPi7oeKwqwHARBiI6lV2fT2xG0b0uEKAPMCaHRJJ2GbtJvohRJYIBNcG3moxMnLgBV2kMH7XDmFov3WPUueVaw2HAPfE/CfsObVwtPhGFD96aFk+N4LJkrEVqbLAP4NKVKooPJsx8xWRAHE7BLLbrfbaVVL+FPTfXa9rsUbgYEPih/v0EnuYxgtrZM/SrULCd2AWXC5xVxLDExQpGL4ZaeBuQ2ALGH1E=
  file:
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.zip
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.dmg
  skip_cleanup: true
  on:
    repo: BlitzModder/BMPC
    tags: true
    branch: master
