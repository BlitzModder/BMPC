language: node_js
node_js:
  - "6.2.1"
os: osx
cache:
  directories:
  - node_modules
  - "$HOME/.nvm"
branches:
  only:
  - master
  - /^v?[0-9\\.]+/
install:
  - npm install
script:
  - npm run pack:mac
deploy:
  provider: releases
  api_key:
    secure: aCegXToRd2DLjvJsWykuv7v9PFqI2c3dB+EIoZF2AztlWEP43jwuIFqTIhtRPNzntWJK3doT1iYY165Q2XhvCy+ACmmkXiSo9A3qKtOhBZNKELTLvJzcMQKn1pCLOvPKcExjAOXKec1NARWD4X/tESQ5zQBbJAzU5nB6RPOHSvJ8xmmTN8tvhUaSpTvUDTz21EzlV6oj+MEvOf36T1sShie8RYSJMBk+myhiaKPmvVa84vNXSszb11wmwRiHCtKFeQW+SL6pIWwCppf87PpGfVEhQOi4iZbp5zkIt8fKGD+zmqG6rYxrcBFvTVL4tJt0WfScM3GmELKXr9ZfIfsGXegOkj3VBTriMZo4SWmdDLEOowAMyAyJCXQtjfF7Lwo75aiYPXInqL+3YdSWBche2wVhVuiNm2CUnBcL/9dWrb2bKx0bx5T7Un7IlnzerA2QMvMaonA/eS2wOaou14bgCVAPcYwPdvmsmyZlmt8HDBzsbDdpE13sVVL0D3mG414DEG5lt9HQV+ljVQBRw8qCaayVoh78eKrguviXjchKySNRbz5IA96zggkISfkaUcb5OCq6sTeH3RpXARPJSquQDGR5PRZ5UWPBKkmwWLka/1UcvfF6Ni1t2dKEtW0CXK4RzijUCD5Wo6n418L45tjYnCJN1yJnWPSYi58udtzoY8s=
  file:
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.zip
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.dmg
  skip_cleanup: true
  on:
    repo: BlitzModder/BMPC
    tags: true
    branch: master
