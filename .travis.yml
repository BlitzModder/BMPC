language: node_js
node_js:
  - "6.2.1"
os: osx
cache:
  directories:
  - node_modules
  - "$HOME/.nvm"
branches:
  only:
  - master
  - /^v?[0-9\\.]+/
install:
  - npm install
script:
  - npm run pack:mac
deploy:
  provider: releases
  api_key:
    secure: EikuzXRHJGdsTCYKRH/SOl89PcjV2+JW9gpLefZgoxRkFwbi6pyPB3ACLnWybiwK9R6ldiPLwuz6DnDHE051iFLu/wXz5CRny+JCDi0UYJQ04e92sRBVGhv8FlidHpXKMRTUIGN0W112l4/1p0TJbkq4OMhffwt9RGcQ/FGROgndIJAp7Hd6Yt84BskYmVKfCU1mgdZ2UsRslyBQzS/UG+HQsUgnwEfZq2Z5ig1rhVICa0V2BjfdG2KMc4NSdLgipbUXFpp/VG5ePk38IoqVSyjoL+3zjfTMJ3RLXrKTh9GZCPSEgziJpou9KyAgwOOyDusjQLoXOWOTk4icyjmzcNNk4TdCNPntTGiaSjGwr4MazPgxOWSwHbUvnSi9ECV4uWS6KAZI/lmqWZ/jSDwMPN9kZNUhtVBJhyICD9wKRJtX4t84udljwKFiAbRPLAaqfIlXws3a+AFGJh3jE5KlDg32nNYS0XiBKFBZr9MY6zJpJ65UHDauh8CNk+FFInK5lwKif64RpUCeSGw7aUS4Qu4CwSAz+6EKX39E3n2za4AnukU+iK7aEM1izqmkjQwFTaT8ovR4DPx/z91l7Bo+35W4lUKZSdqQXog5CFqcQXfj9055wP+/5FGf3+X3imwbWUqWJQXO/W2DKLrrdzD7MfDvaxJs8zhcwnCWbAIoTYI=
  file:
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.zip
    - dist/mac/BlitzModder-$TRAVIS_TAG-mac.dmg
  skip_cleanup: true
  on:
    repo: BlitzModder/BMPC
    tags: true
    branch: master
